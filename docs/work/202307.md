# 202307

::: info

7 月了，还不知道路在哪儿？
要做长久打算！

- 20230522

:::

## 0701/0702

## 0703

- front end interview 不能荒废，留与不留只在一瞬间.怎样才能让自己一直保持足够的核心竞争力？

- 又开始写总结，好好回顾，寄希望奇迹 web 端

- 不会爬虫是硬伤，需要学一学？

## 0705

- A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed "javascript:;".

```js
<a href={undefined} />
```

href 的值 给 **undefined** 即可

- 工作复盘又开始了，回顾半年来的工作重点和成效，真不理解一个搞技术的要背业务绩效的指标，难以理解
- 配置网关有什么作用，如果不配置网关会有什么后果
  访问 xxx.bythewayer.com/xx -> nginx -> 网关 -> 应用服务器
- [node 服务治理](https://zhuanlan.zhihu.com/p/399510723)

## 0706

- 宝贝生日快乐，25 岁了

## 0707

- H1 工作总结和项目回归，讲的还是有点急躁，下次一定要慢一点说
- 工作内容产出不是很多，我感觉杰哥一个人搞得定所有 seo 相关的开发，他一个人绰绰有余，我显得有点多余

## 0710

- 跟对象一起去看了电影《消失的她》
- 最近工作任务蛮重，好像没啥时间来记录生活的琐碎
- http 请求 header 中的**x-powered-by**不是 Apache 或者 Nginx 输出的，而是由**语言解析器或者应用程序框架**输出的, 这个值的意义用于告知网站是用何种语言或框架编写的,如果使用 php 写的，即输出是：X-Powered-By: PHP/7.0.27; 如果使用 nodejs 中的 Nextjs 框架运行的页面，则会显示 X-Powered-By: Next.js

## 0711

- 推荐一个 免费的 AI 工具 https://www.phind.com/ -》 [phind: 专注于开发者的 AI 搜索引擎诞生！](https://mp.weixin.qq.com/s/_FLYl23pRacRBaI4_nf7Pg)

- nodejs 中如何用 fetch 获取数据

```js
const fetch = require("node-fetch");

fetch("https://api.github.com/users/github")
  .then((response) => response.json())
  .then((data) => console.log(data))
  .catch((error) => console.log(error));
```

如果不使用第三方库的话，使用原生 fecth api 的话，需要满足 1.nodejs 版本大于 17.5 2.执行 nodejs 脚本的时候带上实验性参数

```js
node --experimental-fetch your_code.js
```

- 读取 excel 表格，完成数据请求， 然后写入表格新内容, ，需要用到一个 nodejs 库[node-xlsx](https://www.npmjs.com/package/node-xlsx)

```js
/**
 * node读取excel数据
 * 请求接口 然后填充数据
 */
import fetch from "node-fetch";
import fs from "fs";
import os from "os";
import xlsx from "node-xlsx";

const homedir = os.homedir() + "/Desktop/";
const outputName = "albumId-output.xlsx";

// 读取文件
const fileName = "albumId2.xlsx";
const workSheetsFromBuffer = xlsx.parse(fs.readFileSync(homedir + fileName));

// 请求后端数据
const getData = async (kw) => {
  const url = `http://xxx.xx?&kw=${kw}`;
  const data = await fetch(url);
  return data;
};
async function genData() {
  const sheetData = workSheetsFromBuffer[0].data; // 第一个sheet表单的数据
  for (let i = 1; i < sheetData.length; i++) {
    const item = sheetData[i];
    try {
      const response = await getData(item[1]);
      const data = await response.json();
      const docs = data.data.album.docs;
      const albumId = docs[0].albumId;
      const title = docs[0].title;
      sheetData[i].push(albumId);
      sheetData[i].push(title);
    } catch (e) {
      console.log(e, "eee");
    }
  }
  return [{ name: "test1", data: sheetData }];
}

genData().then((res) => {
  // 自定义列宽
  const sheetOptions = {
    "!cols": [{ wch: 6 }, { wch: 7 }, { wch: 10 }, { wch: 20 }],
  };
  // 生成表格数据对象
  const buffer = xlsx.build(res, sheetOptions);
  // 生成excel 写入表格
  fs.writeFile(homedir + outputName, buffer, (err) => {
    if (err) throw err;
    console.log(`
    --------- ---------生成完毕--------- ---------
        请在桌面查找 ${outputName}
    ---------如需配置生成路径或文件名,请配置output---------
    `);
  });
});
```

## 0712

- `document.all` 输出当前页面的所以节点，`typeof document.all === undefined`
- [神器 Nginx 的学习手册](https://mp.weixin.qq.com/s/C-TW72L-wEFtbgmg_NH9kA)
- **反向代理** 客户端无法感知代理，因为客户端访问网络不需要配置，只要把请求发送到反向代理服务器，由反向代理服务器去选择目标服务器获取数据，然后再返回到客户端。此时反向代理服务器和目标服务器对外就是一个服务器，暴露的是代理服务器地址，隐藏了**真实服务器 IP 地址**。
- 好文推荐[React Context 的核心实现，就 5 行代码](https://mp.weixin.qq.com/s/qpQS3ne7HXSL5Dle-ts4qQ)
