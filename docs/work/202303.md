# 202303

é‡‘ä¸‰é“¶å››ï¼Œä¸‰æœˆæ˜¯äººå‘˜å˜åŠ¨æ¯”è¾ƒé¢‘ç¹çš„ä¸€ä¸ªæœˆï¼:broken_heart:

## 0301

::: danger

ç®—æ³•èƒ½ä¸èƒ½è¿›ä¸€æ­¥ç‚¹?? çµé­‚æ‹·é—®ï¼Ÿï¼Ÿ
:::

- vitepress å¤´éƒ¨ head è®¾ç½®,é˜”ä»¥è®¾ç½® icon å’Œ meta

```js
  head: [
    ['link', { rel: 'icon', type: 'image/svg+xml', href: '/logo.svg' }],
    ['link', { rel: 'icon', type: 'image/png', href: '/logo.png' }],
    [
      'meta',
      { name: 'wwads-cn-verify', content: '5878a7ab84fb43402106c575658472fa' },
    ],
    ],
  ],
```

- Web Components æ¦‚å¿µ

Web Components æ˜¯ä¸€ç»„æ ‡å‡†åŒ–çš„**æµè§ˆå™¨ API**ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚ä½¿ç”¨ Web Componentsï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªç»„ä»¶å°è£…åœ¨ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ä¸­ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å¤šä¸ªé¡¹ç›®ä¸­é‡å¤ä½¿ç”¨è¿™ä¸ªç»„ä»¶ã€‚

Web Components ä¸»è¦åŒ…æ‹¬å››ä¸ª APIï¼š**Custom Elements**ã€Shadow DOMã€HTML Templates å’Œ HTML Importsã€‚å…¶ä¸­

- Custom Elements å…è®¸æˆ‘ä»¬åˆ›å»ºè‡ªå®šä¹‰å…ƒç´ ï¼Œ
- Shadow DOM å…è®¸æˆ‘ä»¬åˆ›å»ºå°è£…çš„ DOM èŠ‚ç‚¹ï¼Œ
- HTML Templates å…è®¸æˆ‘ä»¬åˆ›å»ºå¯é‡å¤ä½¿ç”¨çš„æ¨¡æ¿ï¼Œ
- HTML Imports å…è®¸æˆ‘ä»¬å¯¼å…¥ HTML æ–‡ä»¶å¹¶åœ¨é¡µé¢ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

## 0302

### å‰ç«¯è®¾è®¡æ¨¡å¼ä¹‹å·¥å‚æ¨¡å¼

å·¥å‚æ¨¡å¼é€šä¿—ç‚¹è¯´å°±æ˜¯ï¼šæ›´æ–¹ä¾¿åœ°å»åˆ›å»ºå®ä¾‹

```js
class Axios {}
class Factory {
  create() {
    return new Axios();
  }
}
const axios = new Factory();
export default axios;
// åˆ›å»ºå®ä¾‹
const httpRequest1 = axios.create();
const httpRequest2 = axios.create();
const httpRequest3 = axios.create();
```

### å•ä¾‹æ¨¡å¼

å®šä¹‰ä¸€ä¸ªç±»ï¼Œç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æ•´ä¸ªé¡¹ç›®ä»…æ­¤è¿™ä¸€ä¸ªå®ä¾‹ï¼Œå°è£…ä¸€ä¸ªè¯·æ±‚çš„ Axios å®ä¾‹ç„¶åæš´éœ²å‡ºå»

```js
// utils/request.js
// å®šä¹‰ä¸€ä¸ªç±»
class HttpRequest {
  instance: AxiosInstance;
  constructor(options: CreateAxiosOptions) {
    this.instance = axios.create(options)
  }
  setHeader() {...}
  get() {...}
  post() {...}
  put() {...}
  delete() {...}
}
// ç”Ÿæˆä¸€ä¸ªå®ä¾‹
const request = new HttpRequest({})

// å…¨å±€ä»…ç”¨è¿™ä¹ˆä¸€ä¸ªè¯·æ±‚å®ä¾‹
export default request
```

ç„¶ååœ¨é¡¹ç›®ä¸­å„å¤„å»ä½¿ç”¨è¿™ä¸€ä¸ªè¯·æ±‚å®ä¾‹

```js
import request '@/utils/request'

const fetchData = (url) => {
  return request.get(url)
}
```

### é€‚é…å™¨æ¨¡å¼

æ ¸å¿ƒï¼š å°†ä¸€ç§æ ¼å¼é€‚é…æˆä½ æ‰€éœ€è¦çš„æ ¼å¼

æ¯”å¦‚æœ‰ä¸€ä¸ªåœºæ™¯ï¼šåç«¯ç»™ä½ è¿”å›äº†ä¸‰ç§æ•°æ®æ ¼å¼ï¼Œä½†æ˜¯ä½ éœ€è¦æŠŠè¿™ä¸‰ç§æ ¼å¼è½¬æˆä½ å‰ç«¯æ‰€éœ€è¦çš„æ ¼å¼

```js
// æ ¼å¼1
const data1 = [{ age1: 20, name1: "æ—ä¸‰å¿ƒ" }];
// æ ¼å¼2
const data2 = [{ age2: 20, name2: "æ—ä¸‰å¿ƒ" }];
```

è¿™ä¸ªæ—¶å€™ä½ éœ€è¦å®šä¹‰å‡ ä¸ªé€‚é…å™¨ç±»

```js
class Adapter1 {
  data: { age1: number, name1: string }[];
  constructor(data) {
    this.data = data;
  }
  transform() {
    return this.data.map(({ age1, name1 }) => ({
      age: age1,
      name: name1,
    }));
  }
}

class Adapter2 {
  // åŒç†
}
```

å½“ä½ éœ€è¦è½¬æ¢æˆä½ éœ€è¦çš„æ•°æ®æ—¶ï¼Œè°ƒç”¨è¿™äº›ç±»å°±è¡Œ

```js
const adapter1 = new Adapter1(data1);
// é€‚é…æˆåŠŸ
const data = adapter1.transform();
```

### è§‚å¯Ÿè€…æ¨¡å¼

æ ¸å¿ƒï¼šå®šä¹‰å¯¹è±¡é—´çš„**ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»**ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥

æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„æ¡†æ¶ Vueï¼Œå®ƒçš„å“åº”å¼å°±æ˜¯åŸºäºè§‚å¯Ÿè€…æ¨¡å¼å»åšçš„ï¼Œä¸‹é¢æ˜¯ç®€å•å±•ç¤ºä¸€ä¸‹å®ƒçš„åŸç†

```ts
export class Subject {
  count: number;
  observers: any[];
  constructor() {
    this.count = 0;
    this.observers = [];
  }
  getCount() {
    return this.count;
  }
  setCount(count: number) {
    // è®¾ç½®å€¼ä¹‹åé€šçŸ¥æ›´æ–°
    this.count = count;
    this.notify();
  }
  notify() {
    this.observers.forEach((o) => {
      o.update();
    });
  }
  push(o) {
    this.observers.push(o);
  }
}

class Observer {
  private name;
  private subject;
  constructor(name: string, sub: Subject) {
    this.name = name;
    this.subject = sub;
    this.subject.push(this);
  }
  update() {
    console.log(`${this.name} å˜äº† ${this.subject.getCount()}`);
  }
}
const sub = new Subject();
// è§‚å¯Ÿä¸€å·
const observer1 = new Observer("ä¸€å·", sub);
// è§‚å¯ŸäºŒå·
const observer2 = new Observer("äºŒå·", sub);

sub.setCount(1);
// ä¸€å· å˜äº† 1
// äºŒå· å˜äº† 1
```

### å‘å¸ƒè®¢é˜…æ¨¡å¼

å‘å¸ƒè®¢é˜…æ¨¡å¼è·Ÿè§‚å¯Ÿè€…æ¨¡å¼å¾ˆåƒï¼Œä»–ä»¬å…¶å®éƒ½æœ‰å‘å¸ƒè€…å’Œè®¢é˜…è€…ï¼Œä½†æ˜¯ä»–ä»¬æ˜¯æœ‰åŒºåˆ«çš„
è§‚å¯Ÿè€…æ¨¡å¼çš„å‘å¸ƒå’Œè®¢é˜…æ˜¯äº’ç›¸ä¾èµ–çš„
å‘å¸ƒè®¢é˜…æ¨¡å¼çš„å‘å¸ƒå’Œè®¢é˜…æ˜¯ä¸äº’ç›¸ä¾èµ–çš„ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªç»Ÿä¸€è°ƒåº¦ä¸­å¿ƒ

Vue EventBus å°±æ˜¯ç”¨äº†å‘å¸ƒè®¢é˜…æ¨¡å¼

```js
class EventEmitter {
  constructor() {
    this.cache = {};
  }
  on(name, fn) {
    const tasks = this.cache[name];
    if (tasks) {
      this.cache[name].push(fn);
    } else {
      this.cache[name] = [fn];
    }
  }
  off(name, fn) {
    const tasks = this.cache[name];
    if (task) {
      const index = tasks.findIndex((item) => item === fn);
      if (index >= 0) {
        this.cache[name].splice(index, 1);
      }
    }
  }
  emit(name, ...args) {
    // å¤åˆ¶ä¸€ä»½ã€‚é˜²æ­¢å›è°ƒé‡Œç»§ç»­onï¼Œå¯¼è‡´æ­»å¾ªç¯
    const tasks = this.cache[name].slice();
    if (tasks) {
      for (let fn of tasks) {
        fn(...args);
      }
    }
  }
  once(name, cb) {
    function fn(...args) {
      cb(args);
      this.off(name, fn);
    }
    this.on(name, fn);
  }
}

const eventBus = new EventEmitter();
// ç»„ä»¶ä¸€
eventBus.on("event", (val) => {
  console.log(val);
});
// ç»„ä»¶äºŒ
eventBus.emit("event", "params");
```

## 0303

- :+1:å¥½æ–‡æ¨èï¼Œ[cjs è·Ÿ esm äº’ç›¸è½¬æ¢](https://juejin.cn/post/7205897684624474168)

- [fix unknown rule @tailwindcss ](https://www.codeconcisely.com/posts/tailwind-css-unknown-at-rules/)

## 0304

- [tailwindcss å…¥å‘ä¸­ï¼Œéœ€è¦é€æ¸ç†Ÿæ‚‰ä»¥åŠå­¦ä¼šåŸºæœ¬é…ç½®](https://www.tailwindcss.cn/docs)

## 0305

- tailwindcss ä¸­å¦‚ä½•è¿›è¡Œä¸»é¢˜æ¨¡å¼åˆ‡æ¢[æ‰‹åŠ¨åˆ‡æ¢æ·±è‰²æ¨¡å¼](https://www.tailwindcss.cn/docs/dark-mode)

```html
<!-- Dark mode enabled -->
<html class="dark">
  <body>
    <!-- Will be black -->
    <div class="bg-white dark:bg-black">
      <!-- ... -->
    </div>
    <script>
      // On page load or when changing themes, best to add inline in `head` to avoid FOUC
      if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
      // Whenever the user explicitly chooses light mode
      localStorage.theme = "light";
      // Whenever the user explicitly chooses dark mode
      localStorage.theme = "dark";

      // Whenever the user explicitly chooses to respect the OS preference
      localStorage.removeItem("theme");
    </script>
  </body>
</html>
```

## 0306

- ä»Šå¤©è€é“é—®æˆ‘è¦ä¸è¦å»ä»–ä»¬é‚£è¾¹ï¼Œé‚£è¾¹ç•™æœ‰ä¸€ä¸ªé«˜çº§çš„ HC,æˆ‘è¿˜æ˜¯æ²¡æœ‰å‡†å¤‡å¥½ï¼Œé‚£åˆ°åº•å•¥æ—¶å€™å‡†å¤‡å¥½ï¼Ÿæ˜æ˜çŸ¥é“è‡ªå·±çš„åŠ£åŠ¿å’Œç¼ºç‚¹ï¼Œä¸ºå•¥å°±ä¸èƒ½åœ¨åŠªåŠ›å‡†å¤‡å‡†å¤‡å‘¢ï¼Ÿ

> é—®é—®è‡ªå·±ï¼Œæ˜¯å¦çœŸçš„å·²ç»è¶³å¤ŸåŠªåŠ›äº†ï¼Ÿæ˜¯å¦å¯¹å¾—èµ·è‡ªå·±å¯¹å‰ç«¯çš„è¿™ä»½çƒ­çˆ±ï¼Ÿ

### å‡½æ•°æŸ¯é‡ŒåŒ–

[ä¸€ä¸ªå¤šå‚æ•°çš„å‡½æ•°è½¬æ¢æˆå¤šä¸ªåµŒå¥—çš„å•å‚æ•°å‡½æ•°](https://mp.weixin.qq.com/s/8FmjffUnWx49LsyJn28XdA)

```js
function add(a, b, c, d) {
  return a + b + c + d;
}
// expected
curry(add)(1)(2)(3)(4);

function curry(target) {
  return function fn(...rest) {
    if (target.length === rest.length) {
      return target.apply(null, rest);
    } else {
      // return fn.bind(null, ...rest)
      return (...arg) => fn(...arg, ...rest);
    }
  };
}
// å‚æ•°ä¸å›ºå®š
function curry2(target) {
  var arr = [];
  return function fn(...arg) {
    if (arg.length) {
      arr.push(...arg);
      return fn;
    } else {
      var value = target.apply(null, arr);
      arr = [];
      return value;
    }
  };
}
const add2 = (...rest) => {
  return rest.reduce((acc, cur) => cur + acc, 0);
};
curry2(add2)(1)(2)(3)();
```

## 0307

- å¤šé‡å¾ªç¯ä¸­åµŒå¥—å¼‚æ­¥å‡½æ•°æœ€ä½³å®è·µï¼Ÿ

### çŒœçŒœæ‰“å°é¡ºåº,[async/await åŸæ–‡åœ°å€](https://mp.weixin.qq.com/s/XzsK_rTwAffgbOyYlbSqGQ)

```js
async function jackson() {
  console.log(await Promise.resolve("jackson"));
}
async function bear() {
  console.log(await "bear");
}
async function daxiong() {
  console.log("daxiong");
}
jackson();
bear();
daxiong();
// daxiong  jackson bear
```

çœ‹çœ‹ä¸‹åˆ—æ‰“å°é¡ºåº

```js
async function async1() {
  await new Promise((resolve, reject) => {
    resolve();
  });
  console.log("A");
}
async1();
new Promise((resolve) => {
  console.log("B");
  resolve();
})
  .then(() => {
    console.log("C");
  })
  .then(() => {
    console.log("D");
  });
// B A C D
```

```js
async function async1() {
  await async2();
  console.log("A");
}
async function async2() {
  return new Promise((resolve, reject) => {
    resolve();
  });
}
async1();
new Promise((resolve) => {
  console.log("B");
  resolve();
})
  .then(() => {
    console.log("C");
  })
  .then(() => {
    console.log("D");
  })
  .then(() => {
    console.log("E");
  });
// B C D A E
```

async æ ¹æ®è¿”å›å€¼çš„ç±»å‹ï¼Œå¼•èµ· js å¼•æ“ å¯¹è¿”å›å€¼å¤„ç†æ–¹å¼çš„ä¸åŒ

async å‡½æ•°åœ¨æŠ›å‡ºè¿”å›å€¼æ—¶ï¼Œä¼šæ ¹æ®è¿”å›å€¼ç±»å‹å¼€å¯ä¸åŒæ•°ç›®çš„å¾®ä»»åŠ¡

- return ç»“æœå€¼ï¼šé thenableã€é promiseï¼ˆä¸ç­‰å¾…ï¼‰
- return ç»“æœå€¼ï¼šthenableï¼ˆç­‰å¾… 1 ä¸ª then çš„æ—¶é—´ï¼‰
- return ç»“æœå€¼ï¼špromiseï¼ˆç­‰å¾… 2 ä¸ª then çš„æ—¶é—´ï¼‰

- é thenableã€é promiseï¼ˆä¸ç­‰å¾…ï¼‰

```js
async function testA() {
  return 111;
}

// async function testA1() {
//   return Promise.resolve("2222");
// }

testA1().then((a) => console.log(1, a));
Promise.resolve()
  .then(() => console.log(2))
  .then(() => console.log(3));
// 1 111
// 2
// 3
```

- thenableï¼ˆç­‰å¾… 1 ä¸ª then çš„æ—¶é—´ï¼‰

```js
async function testB() {
  return {
    then(cb) {
      cb();
    },
  };
}

testB().then(() => console.log(1));
Promise.resolve()
  .then(() => console.log(2))
  .then(() => console.log(3));

// (ç­‰å¾…ä¸€ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 1 3
```

- promise ç­‰å¾… 2 ä¸ª then

```js
async function testC() {
  return new Promise((resolve, reject) => {
    resolve();
  });
}

testC().then(() => console.log(1));
Promise.resolve()
  .then(() => console.log(2))
  .then(() => console.log(3));

// (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 3 1

async function testC() {
  return new Promise((resolve, reject) => {
    resolve();
  });
}

testC().then(() => console.log(1));
Promise.resolve()
  .then(() => console.log(2))
  .then(() => console.log(3))
  .then(() => console.log(4));

// (ç­‰å¾…ä¸¤ä¸ªthen)æœ€ç»ˆç»“æœğŸ‘‰: 2 3 1 4
```

ç»å…¸é¢è¯•é¢˜

```js
async function async1() {
  console.log("1");
  await async2();
  console.log("AAA");
}

async function async2() {
  console.log("3");
  return new Promise((resolve, reject) => {
    resolve();
    console.log("4");
  });
}

console.log("5");

setTimeout(() => {
  console.log("6");
}, 0);

async1();

new Promise((resolve) => {
  console.log("7");
  resolve();
})
  .then(() => {
    console.log("8");
  })
  .then(() => {
    console.log("9");
  })
  .then(() => {
    console.log("10");
  });
console.log("11");

// 5 1 3 7 11 8 9 4 aaa 10 6
// 5 1 3 4 7 11 8 9 aaa 10 6
```

æ­¥éª¤æ‹†è§£ï¼š

- å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¾“å‡º 5
- æ‰§è¡Œ setTimeoutï¼Œæ˜¯æ”¾å…¥å®ä»»åŠ¡å¼‚æ­¥é˜Ÿåˆ—ä¸­
- æ¥ç€æ‰§è¡Œ async1 å‡½æ•°ï¼Œè¾“å‡º 1
- æ‰§è¡Œ async2 å‡½æ•°ï¼Œè¾“å‡º 3
- Promise æ„é€ å™¨ä¸­ä»£ç å±äºåŒæ­¥ä»£ç ï¼Œè¾“å‡º 4
  > async2 å‡½æ•°çš„è¿”å›å€¼æ˜¯ Promiseï¼Œç­‰å¾… 2 ä¸ª then åæ”¾è¡Œï¼Œæ‰€ä»¥ AAA æš‚æ—¶æ— æ³•è¾“å‡º
- async1 å‡½æ•°æš‚æ—¶ç»“æŸï¼Œç»§ç»­å¾€ä¸‹èµ°ï¼Œè¾“å‡º 7
- åŒæ­¥ä»£ç ï¼Œè¾“å‡º 11
- æ‰§è¡Œç¬¬ä¸€ä¸ª thenï¼Œè¾“å‡º 8
- æ‰§è¡Œç¬¬äºŒä¸ª thenï¼Œè¾“å‡º 9
- ç»ˆäºç­‰åˆ°äº†ä¸¤ä¸ª then æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œ async1 å‡½æ•°é‡Œé¢å‰©ä¸‹çš„ï¼Œè¾“å‡º AAA
- å†æ‰§è¡Œæœ€åä¸€ä¸ªå¾®ä»»åŠ¡ thenï¼Œè¾“å‡º 10
- æ‰§è¡Œæœ€åçš„å®ä»»åŠ¡ setTimeoutï¼Œè¾“å‡º 6

### await å³å€¼ç±»å‹åŒºåˆ«

#### é thenable

```js
async function test() {
  console.log(1);
  await 1;
  console.log(2);
}
test();
console.log(3);
// æœ€ç»ˆç»“æœğŸ‘‰: 1 3 2
```

```js
function func() {
  console.log(2);
}
async function test() {
  console.log(1);
  await func();
  console.log(3);
}
test();
console.log(4);
// 1 2 4 3

async function test() {
  console.log(1);
  await 123;
  console.log(2);
}

test();
console.log(3);

Promise.resolve()
  .then(() => console.log(4))
  .then(() => console.log(5))
  .then(() => console.log(6))
  .then(() => console.log(7));
// 1 3 2   4567
```

æ€»ç»“ï¼š await åé¢æ¥é **thenable** ç±»å‹ï¼Œä¼šç«‹å³å‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¾®ä»»åŠ¡ thenï¼Œä½†ä¸éœ€ç­‰å¾…

#### thenable ç±»å‹

```js
async function test() {
  console.log(1);
  await {
    then(cb) {
      cb();
    },
  };
  console.log(2);
}
test();
console.log(3);

Promise.resolve()
  .then(() => console.log(4))
  .then(() => console.log(5))
  .then(() => console.log(6))
  .then(() => console.log(7));
// 1 3 4 2 5 6 7
```

æ€»ç»“ï¼š await åé¢æ¥ thenable ç±»å‹ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¸ª then çš„æ—¶é—´ä¹‹åæ‰§è¡Œ

#### Promise ç±»å‹

```js
async function test() {
  console.log(1);
  await new Promise((resolve, reject) => {
    resolve();
  });
  console.log(2);
}

test();
console.log(3);
Promise.resolve()
  .then(() => console.log(4))
  .then(() => console.log(5))
  .then(() => console.log(6))
  .then(() => console.log(7));
// 1 32  4 5 6 7
```

â“ ä¸ºä»€ä¹ˆè¡¨ç°çš„å’Œé thenable å€¼ä¸€æ ·å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸ç­‰å¾…ä¸¤ä¸ª then çš„æ—¶é—´å‘¢ï¼Ÿ

```js
async function func() {
  console.log(1);
  await 1;
  console.log(2);
  await 2;
  console.log(3);
  await 3;
  console.log(4);
}

async function test() {
  console.log(5);
  await func();
  console.log(6);
}

test();
console.log(7);

Promise.resolve()
  .then(() => console.log(8))
  .then(() => console.log(9))
  .then(() => console.log(10))
  .then(() => console.log(11));

// 5 1 7 2 8 3 9 4 10 6 11

async function test() {
  console.log(5);
  console.log(1);
  Promise.resolve()
    .then(() => console.log(2))
    .then(() => console.log(3))
    .then(() => console.log(4))
    .then(() => console.log(6));
}

test();
console.log(7);

Promise.resolve()
  .then(() => console.log(8))
  .then(() => console.log(9))
  .then(() => console.log(10))
  .then(() => console.log(11));

// æœ€ç»ˆç»“æœğŸ‘‰: 5 1 7 2 8 3 9 4 10 6 11
```

èµ°ä¸€ä¸ªæ¡ˆä¾‹

```js
async function func() {
  console.log(2);
  return {
    then(cb) {
      cb();
    },
  };
}
async function test() {
  console.log(1);
  await func();
  console.log(3);
}
test();
console.log(4);
new Promise((resolve) => {
  console.log("B");
  resolve();
})
  .then(() => {
    console.log("C");
  })
  .then(() => {
    console.log("D");
  });
// 1 2 4 b c 3 d
```

#### async/await æ€»ç»“

- async å‡½æ•°è¿”å›å€¼
  ç»“è®ºï¼šasync å‡½æ•°åœ¨æŠ›å‡ºè¿”å›å€¼æ—¶ï¼Œä¼šæ ¹æ®è¿”å›å€¼ç±»å‹å¼€å¯ä¸åŒæ•°ç›®çš„å¾®ä»»åŠ¡
  1.return ç»“æœå€¼ï¼šé thenableã€é promiseï¼ˆä¸ç­‰å¾…ï¼‰
  2.return ç»“æœå€¼ï¼šthenableï¼ˆç­‰å¾… 1 ä¸ª then çš„æ—¶é—´ï¼‰
  3.return ç»“æœå€¼ï¼špromiseï¼ˆç­‰å¾… 2 ä¸ª then çš„æ—¶é—´ï¼‰
- await å³å€¼ç±»å‹åŒºåˆ«:

  1.æ¥é thenable ç±»å‹ï¼Œä¼šç«‹å³å‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¾®ä»»åŠ¡ thenï¼Œä½†ä¸éœ€ç­‰å¾…

  2.æ¥ thenable ç±»å‹ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¸ª then çš„æ—¶é—´ä¹‹åæ‰§è¡Œ

  3.æ¥ Promise ç±»å‹(æœ‰ç¡®å®šçš„è¿”å›å€¼)ï¼Œä¼šç«‹å³å‘å¾®ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¾®ä»»åŠ¡ thenï¼Œä½†ä¸éœ€ç­‰å¾…

### å›¾ç‰‡è£å‰ªï¼Ÿctx.drawImage()

åŸå›¾åƒä»åæ ‡ (33,71) å¤„æˆªå–ä¸€ä¸ªå®½åº¦ä¸º 104 é«˜åº¦ä¸º 124 çš„å›¾åƒã€‚å¹¶å°†å…¶ç»˜åˆ¶åˆ°ç”»å¸ƒçš„ (21, 20) åæ ‡å¤„ï¼Œå¹¶å°†å…¶ç¼©æ”¾ä¸ºå®½ 87ã€é«˜ 104 çš„å›¾åƒã€‚

```js
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const image = document.getElementById("source");

image.addEventListener("load", (e) => {
  ctx.drawImage(image, 33, 71, 104, 124, 21, 20, 87, 104);
});
```

- æ›´æ–°äº†ä¸‹è‡ªå·±çš„ç®€å†ï¼ŒçœŸæƒ³åŠ è¿™ä¸¤å¥è¯ï¼Ÿhhhh,æˆ‘çœŸçš„å¤ªè‡ªæ‹äº†ï¼Œå¸Œæœ›å‡ä»¥æ—¶æ—¥å§

```md
- ç²¾é€š react
- ç²¾é€š ssr
```

> å®åŠ›é…ä¸ä¸Šæˆ‘çš„é‡å¿ƒï¼Ÿï¼Ÿï¼Ÿhow to do?

ä»€ä¹ˆæ—¶å€™æˆ‘æ‰èƒ½åƒä¸‰å…ƒå¤§ä½¬ï¼Œå²€ä¸€ç‰ˆè‡ªå·±çš„å°å†Œå­[åŸºäº Vite çš„ SSG æ¡†æ¶å¼€å‘å®æˆ˜](https://juejin.cn/video/7163857336258265102?scrollMenuIndex=0)

## 0308

- :100: [å‰ç«¯æ„å»ºå·¥å…·è¿›åŒ–å†ç¨‹](https://mp.weixin.qq.com/s/o8B8HAczZtIZM8V_HHwNqg)

> å­—èŠ‚å‡ºå“ æ„Ÿè§‰å°±ä¸ä¸€æ ·ï¼Œè¿˜æ˜¯å¤ªå‰å®³äº†ï¼Œè†œæ‹œè†œæ‹œ

ä»€ä¹ˆæ˜¯æ„å»ºï¼Ÿç®€å•æ¥è¯´ï¼šæ„å»ºå°±æ˜¯å°†å¼€å‘ç¯å¢ƒçš„ä»£ç è½¬åŒ–æˆç”Ÿäº§ç¯å¢ƒå¯ç”¨æ¥éƒ¨ç½²çš„ä»£ç ã€‚ä¸ºäº†ç”Ÿäº§å‡ºç”Ÿäº§ç¯å¢ƒå¯ç”¨çš„ JSã€CSSï¼Œæ„å»ºå·¥å…·å®ç°äº†è¯¸å¦‚ï¼š**ä»£ç è½¬æ¢ã€ä»£ç å‹ç¼©ã€tree shakingã€code spliting** ç­‰ã€‚

## 0309

- [vue2 å’Œ vue3 å“åº”å¼åŒºåˆ«](https://mp.weixin.qq.com/s/FGTy5oUAzpCQizZJKJNoMw)

  > æ‰‹å†™ Observer/watcher

- [react çµé­‚æ‹·é—® 23 ä¸ª](https://mp.weixin.qq.com/s/yPJ4mwTxm-WEFAv2h4SL8Q)
  > æˆ‘æ„Ÿè§‰è‡ªå·±å›ç­” 5 ä¸ª,çœ‹åˆ°äº†æ‰èƒ½å›æƒ³èµ·æ¥ï¼Œæ€»ç»“æ¥è¯´è¿˜æ˜¯æ²¡æœ‰æŒæ¡

## 0310

- ä¸ªäººä¸»é¢˜é¦–é¡µè¿˜æ²¡æœ‰æ•´å®Œï¼Œè¿™é€Ÿåº¦ä¹Ÿå¤ªæ…¢äº†ï¼ï¼ï¼è‡ªå·±å¼€å‘æ•ˆç‡å¤ªæ…¢äº†

## 0311

- å»äº†ä¸€è¶Ÿå¸¸å·ï¼Œç´¯ä¸ªåŠæ­»ï¼Œ:mask:,æ¥å›è½¦ç¥¨èŠ±é”€ 300
- ç»“å©šå‰çš„å©šçº±ç…§æ‹æ‘„éœ€è¦æä¸Šæ—¥ç¨‹ï¼Œæœ€è¿Ÿè¿™å‘¨äº”ç¡®å®šï¼Œè¿˜è¦ç¡®å®šçš„æ˜¯å©šåº†ç›¸å…³çš„äº‹å®œ
- ç¡®å®šæäº²çš„æ—¥å­ï¼Œæä»€ä¹ˆäº²ï¼Ÿ

## 0312

- ç»“å©šäº‹å®œå¥³æ–¹è¿™è¾¹éš¾ä»¥æ¨è¿›ï¼Œè‰°éš¾
- æ‰‹å†™å„ç§æ’åº

```js
// bubble sort
```

## 0313

- çªå‘å¥‡æƒ³ï¼šå¦‚æœä»é“¶è¡Œé‡Œå€Ÿ 10 ä¸‡ç”¨äºæå‰è¿˜æˆ¿è´·ï¼Œè¿™ä¸ªæ¯ä¸ªæœˆèƒ½å°‘ 500 çš„åˆ©æ¯ï¼Œé“¶è¡Œåä¸‡ä¸€ä¸ªæœˆ 400 çš„åˆ©æ¯ï¼Œè¿™æ ·æ¯ä¸ªæœˆè¿˜ä½ å°‘è¿˜ 100 å·¦å³çš„åˆ©æ¯

### [react æ¯æ—¥å°è®°](https://zhuanlan.zhihu.com/p/608959809)

jsx ä¼šè¢«ç¼–è¯‘æˆ render functionï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼ React.createElement è¿™ç§ã€‚æ‰€ä»¥ä¹‹å‰å†™ React ç»„ä»¶éƒ½å¿…é¡»æœ‰ä¸€è¡Œ **import \* as React from 'react'**ï¼Œå› ä¸ºç¼–è¯‘åä¼šç”¨åˆ° React çš„ apiã€‚ä½†åæ¥æ”¹ä¸ºäº†è¿™ç§ render functionï¼š

```js
const Test = <div>THis is Test</div>;
```

ç”± babelã€tsc ç­‰ç¼–è¯‘å·¥å…·è‡ªåŠ¨å¼•å…¥ä¸€ä¸ª **react/jsx-runtime** çš„åŒ….
vdom è½¬ fiber çš„æµç¨‹å«åš reconcileï¼Œæˆ‘ä»¬å¸¸è¯´çš„ diff ç®—æ³•å°±æ˜¯åœ¨ reconcile è¿™ä¸ªè¿‡ç¨‹ä¸­.ç»è¿‡ reconcile ä¹‹åï¼Œå°±æœ‰äº†æ–°çš„ fiber æ ‘äº†.

react æ¸²æŸ“æµç¨‹æ•´ä½“åˆ†ä¸ºä¸¤ä¸ªå¤§é˜¶æ®µï¼š render é˜¶æ®µå’Œ commit é˜¶æ®µã€‚

- render é˜¶æ®µä¹Ÿå°±æ˜¯ **reconcile çš„ vdom è½¬ fiber çš„è¿‡ç¨‹**

- commit é˜¶æ®µå°±æ˜¯å…·ä½“æ“ä½œ domï¼Œä»¥åŠæ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°çš„è¿‡ç¨‹ã€‚commit é˜¶æ®µè¿˜åˆ†ä¸ºäº† 3 ä¸ªå°é˜¶æ®µï¼šbefore mutationã€mutationã€layoutã€‚

## 0314

- ä»Šå¤©å¼€å§‹æ¥è§¦ [nextjs ä¸­æ–‡](https://www.nextjs.cn/docs/basic-features/pages),[nextjs en](https://nextjs.org/docs/basic-features/pages)ä»ä¸‹å‘¨å¼€å§‹å¿™å¼€å‘ï¼Œä¼šä¸€ç›´å¿™åˆ°ä¸‹ä¸ªæœˆ,å¸Œæœ›èƒ½æœ‰æ–°çš„æ”¶è·!!!

### é¢è¯•å®˜é—®ä»€ä¹ˆæ˜¯ event loop?

ç­”ï¼ševentLoop æ˜¯ js è¿è¡Œæ—¶çš„ä¸€ä¸ªé‡è¦æœºåˆ¶ï¼Œè§£å†³ js å•çº¿ç¨‹è¿è¡Œæ—¶ä¸ä¼šé˜»å¡çš„ä¸€ç§æœºåˆ¶ï¼Œè´Ÿè´£åè°ƒå’Œç®¡ç† js ç¨‹åºä¸­å„ç§ä»»åŠ¡çš„æ‰§è¡Œã€‚eventloop åŸç†æ˜¯é€šè¿‡å°†ä»»åŠ¡åˆ†é…åˆ°ä¸åŒçš„é˜Ÿåˆ—ä¸­ï¼Œå¹¶æŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ¥ç®¡ç†ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºã€‚åœ¨ js ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹è´Ÿè´£æ‰§è¡Œä»»åŠ¡ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä¼˜å…ˆçº§æ¯”è¾ƒé«˜ï¼Œä¼˜äºå®ä»»åŠ¡æ‰§è¡Œï¼Œè€ŒåŒä¸€é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ˜¯æŒ‰ç…§æ·»åŠ çš„å…ˆåé¡ºåºæ‰§è¡Œã€‚

1.Javascript æœ‰ä¸€ä¸ª main thread ä¸»çº¿ç¨‹å’Œ call-stack è°ƒç”¨æ ˆ(æ‰§è¡Œæ ˆ)ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½ä¼šè¢«æ”¾åˆ°è°ƒç”¨æ ˆç­‰å¾…ä¸»çº¿ç¨‹æ‰§è¡Œã€‚
2.JS è°ƒç”¨æ ˆé‡‡ç”¨çš„æ˜¯**åè¿›å…ˆå‡º**çš„è§„åˆ™ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šè¢«æ·»åŠ åˆ°æ ˆçš„é¡¶éƒ¨ï¼Œå½“æ‰§è¡Œæ ˆæ‰§è¡Œå®Œæˆåï¼Œå°±ä¼šä»æ ˆé¡¶ç§»å‡ºï¼Œç›´åˆ°æ ˆå†…è¢«æ¸…ç©ºã€‚
3.Javascript å•çº¿ç¨‹ä»»åŠ¡è¢«åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¼šåœ¨è°ƒç”¨æ ˆä¸­æŒ‰ç…§é¡ºåºç­‰å¾…ä¸»çº¿ç¨‹ä¾æ¬¡æ‰§è¡Œï¼Œå¼‚æ­¥ä»»åŠ¡ä¼šåœ¨å¼‚æ­¥ä»»åŠ¡æœ‰äº†ç»“æœåï¼Œå°†æ³¨å†Œçš„å›è°ƒå‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…ä¸»çº¿ç¨‹ç©ºé—²çš„æ—¶å€™ï¼ˆè°ƒç”¨æ ˆè¢«æ¸…ç©ºï¼‰ï¼Œè¢«è¯»å–åˆ°æ ˆå†…ç­‰å¾…ä¸»çº¿ç¨‹çš„æ‰§è¡Œã€‚

å¤§ç™½è¯å¤§è‡´æ˜¯è¿™æ ·çš„:

- æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ (Execution Context Stack)ã€‚
- è€Œå¼‚æ­¥ä»»åŠ¡ä¼šè¢«æ”¾ç½®åˆ° Task Tableï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„å¼‚æ­¥å¤„ç†æ¨¡å—ï¼Œå½“å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±å°†è¯¥å‡½æ•°ç§»å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚
- ä¸€æ—¦æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå¼•æ“å°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åå°†ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡å‹å…¥æ‰§è¡Œæ ˆä¸­è¿è¡Œã€‚

ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ç¬¬ä¸‰æ­¥ï¼Œä¹Ÿå°±æ˜¯ **åªè¦ä¸»çº¿ç¨‹ç©ºäº†ï¼Œå°±ä¼šå»è¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¯¥è¿‡ç¨‹ä¸æ–­é‡å¤ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„** äº‹ä»¶å¾ªç¯ã€‚

### [Nodejs ä¸­çš„ eventLoop?](https://juejin.cn/post/6844904194185379854#comment)

Node çš„ Event loop ä¸€å…±åˆ†ä¸º 6 ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªç»†èŠ‚å…·ä½“å¦‚ä¸‹ï¼š

- timers: æ‰§è¡Œ setTimeout å’Œ setInterval ä¸­åˆ°æœŸçš„ callbackã€‚
- pending callback: ä¸Šä¸€è½®å¾ªç¯ä¸­å°‘æ•°çš„ callback ä¼šæ”¾åœ¨è¿™ä¸€é˜¶æ®µæ‰§è¡Œ,nodejs å†…éƒ¨åœ¨ä½¿ç”¨
- idle/prepare: ä»…åœ¨å†…éƒ¨ä½¿ç”¨ã€‚
- poll: æœ€é‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡Œ pending callbackï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹ä¼šé˜»å¡åœ¨è¿™ä¸ªé˜¶æ®µã€‚
- check: æ‰§è¡Œ setImmediate(setImmediate()æ˜¯å°†äº‹ä»¶æ’å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—å°¾éƒ¨ï¼Œä¸»çº¿ç¨‹å’Œäº‹ä»¶é˜Ÿåˆ—çš„å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åç«‹å³æ‰§è¡Œ setImmediate æŒ‡å®šçš„å›è°ƒå‡½æ•°)çš„ callbackã€‚
- close callbacks: æ‰§è¡Œ close äº‹ä»¶çš„ callbackï¼Œä¾‹å¦‚ **socket.on('close'[,fn]) or http.server.on('close, fn)**ã€‚

### å¤§å¾ªç¯å’Œå°å¾ªç¯

å¤§å¾ªç¯æŒ‡çš„å°±æ˜¯ event loopï¼Œå°å¾ªç¯å°±æ˜¯æŒ‡ç”± next tick callback queue å’Œ microtask callback queue æ‰€ç»„æˆçš„å°å¾ªç¯ã€‚æˆ‘ä»¬å¯ä»¥ä¸‹è¿™ä¹ˆä¸€ä¸ªç»“è®ºï¼šä¸€æ—¦è¿›å…¥å¤§å¾ªç¯ä¹‹åï¼Œæ¯æ‰§è¡Œå®Œä¸€ä¸ªå¤§å¾ªç¯ callback ä¹‹åï¼Œå°±å¿…é¡»æ£€æŸ¥å°å¾ªç¯ã€‚å¦‚æœå°å¾ªç¯æœ‰ callback è¦æ‰§è¡Œï¼Œåˆ™éœ€è¦æ‰§è¡Œå®Œæ‰€æœ‰çš„å°å¾ªç¯ calback ä¹‹åæ‰ä¼šå›å½’åˆ°å¤§å¾ªç¯é‡Œé¢ã€‚ æ³¨æ„ï¼Œè¿™é‡Œå¼ºè°ƒçš„æ˜¯ï¼Œnodejs ä¸ä¼šæŠŠ event loop ä¸­å½“å‰é˜¶æ®µçš„é˜Ÿåˆ—éƒ½æ¸…ç©ºä¹‹åæ‰è¿›å…¥å°å¾ªç¯ï¼Œè€Œæ˜¯æ‰§è¡Œäº†ä¸€ä¸ª callback ä¹‹åï¼Œå°±è¿›å…¥äº†å°å¾ªç¯äº†

### nodejs ä¸ browser ä¸­ event loop çš„åŒºåˆ«

- ç›¸åŒç‚¹
  ä»è¿è¡Œæœºåˆ¶çš„å®è´¨ä¸Šæ¥çœ‹ï¼Œä¸¤è€…å¤§ä½“ä¸Šæ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«çš„ã€‚å…·ä½“å±•å¼€æ¥è¯´å°±æ˜¯ï¼šå¦‚æœæŠŠ nodejs event loop ä¸­çš„ mainline code å’Œå„ä¸ªé˜¶æ®µä¸­çš„ callback éƒ½å½’çº³ä¸º macrotask callbackï¼ŒæŠŠ next tick callback å’Œå…¶ä»–è¯¸å¦‚ Promise/then()çš„ microtask callback éƒ½å½’çº³ä¸º microtask callback çš„è¯ï¼Œè¿™ä¸¤ä¸ª event loop æœºåˆ¶å¤§ä½“æ˜¯ä¸€è‡´çš„ï¼šéƒ½æ˜¯å…ˆæ‰§è¡Œä¸€ä¸ª macrotask callbackï¼Œå†æ‰§è¡Œä¸€ä¸ªå®Œæ•´çš„ microtask callback é˜Ÿåˆ—ã€‚microtask callback éƒ½å…·å¤‡é€’å½’å…¥é˜Ÿçš„ç‰¹æ€§ï¼Œæ— é™é€’å½’å…¥é˜Ÿéƒ½ä¼šäº§ç”Ÿâ€œevent loop starvationâ€åæœã€‚åªæœ‰æ‰§è¡Œå®Œ microtask callback queue ä¸­çš„æ‰€æœ‰ callbackï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ª macrotask callbackã€‚

- å¼‚åŒç‚¹

  1.åœ¨ nodejs event loop çš„å®ç°ä¸­ï¼Œæ²¡æœ‰ macrotask çš„è¯´æ³•ã€‚
  nodejs event loop æ˜¯æŒ‰ç…§é˜¶æ®µæ¥åˆ’åˆ†çš„ï¼Œå…·æœ‰å…­ä¸ªé˜¶æ®µï¼Œå¯¹åº”å…­ç§ç±»å‹çš„é˜Ÿåˆ—ï¼ˆå…¶ä¸­ä¸¤ç§æ˜¯åªä¾›å†…éƒ¨ä½¿ç”¨ï¼‰ï¼›è€Œ browser event loop ä¸æŒ‰ç…§é˜¶æ®µåˆ’åˆ†ï¼Œåªæœ‰ä¸¤ç§ç±»å‹çš„é˜Ÿåˆ—ï¼Œå³ macrotask queue å’Œ microtask queueã€‚ä»å¦å¤–ä¸€ä¸ªè§’åº¦æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆç†è§£ï¼šnodejs event loop æœ‰ 2 ä¸ª microtask é˜Ÿåˆ—ï¼Œæœ‰ 4 ä¸ª macrotask é˜Ÿåˆ—ï¼›è€Œæµè§ˆå™¨ event loop åªæœ‰ 1 ä¸ª microtask é˜Ÿåˆ—ï¼Œæœ‰ 1 ä¸ª macrotask é˜Ÿåˆ—ã€‚

  2.æœ€å¤§çš„ä¸åŒï¼Œåœ¨äº nodejs evnet loop æœ‰ä¸ªè½®è¯¢é˜¶æ®µã€‚å½“ evnet loop ä¸­æ‰€æœ‰é˜Ÿåˆ—éƒ½ä¸ºç©ºçš„æ—¶å€™ï¼Œbrowser event loop ä¼šé€€å‡º event loopï¼ˆæˆ–è€…è¯´å¤„äºä¼‘çœ çŠ¶æ€ï¼‰ã€‚ä½†æ˜¯ nodejs event loop ä¸ä¸€æ ·ï¼Œå®ƒä¼šæŒç»­**å‘½ä¸­è½®è¯¢é˜¶æ®µ**ï¼Œå¹¶ä¸”åœ¨é‚£é‡Œç­‰å¾…å¤„äº**pending çŠ¶æ€çš„ I/O callback**ã€‚åªæœ‰ç­‰å¾…æ—¶é—´è¶…å‡ºäº† nodejs è®¡ç®—å‡ºæ¥çš„é™å®šæ—¶é—´æˆ–è€…å†ä¹Ÿæ²¡æœ‰æœªå®Œæˆçš„ I/O ä»»åŠ¡çš„æ—¶å€™ï¼Œnodejs æ‰ä¼šé€€å‡º event loopã€‚è¿™å°±æ˜¯ nodejs event loop è·Ÿ browser event loop æœ€å¤§ä¸åŒçš„åœ°æ–¹ã€‚

## 0315

- å¦‚ä½•ä¿®æ”¹ create-react-app æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„/åç§°(appBuild)
  åœ¨ React é¡¹ç›®è·Ÿç›®å½•ä¸‹ï¼ˆè·Ÿ src åŒçº§ï¼‰æ·»åŠ  **.env.production** æ–‡ä»¶

```js
// ä¾‹å¦‚æˆ‘éœ€è¦å°†é»˜è®¤çš„ build ä¿®æ”¹ä¸º dist
BUILD_PATH = dist;
```

- pm2 ç»´æŠ¤ nextjs é¡¹ç›®ï¼Œåœ¨å…¬å¸å¹³å°ä¸Šå‘å¸ƒï¼Œå¥åº·æ£€æŸ¥æ²¡æœ‰é€šè¿‡ï¼Œè¿˜æ˜¯ä¸å¤ªæ‡‚è¿™å—å‘å¸ƒæµç¨‹ï¼Œéœ€è¦å­¦ä¹ ä¸‹ï¼ï¼ï¼

## 0316

- è·¨åŸŸï¼Œä»Šå¤©æµ‹è¯•åŒå­¦è¯´ä»¥ä¸ºåªè¦ä¸»åŸŸæ˜¯ bytheway.com çš„éƒ½ä¸æ¶‰åŠè·¨åŸŸï¼Œå…¶å®ä¸æ˜¯çš„
  åœ¨è¯·æ±‚æ—¶ï¼Œå¦‚æœå‡ºç°äº†ä»¥ä¸‹æƒ…å†µä¸­çš„ä»»æ„ä¸€ç§ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è·¨åŸŸè¯·æ±‚ï¼š
- åè®®ä¸åŒï¼Œå¦‚ http å’Œ httpsï¼›
- åŸŸåä¸åŒï¼Œå³ä½¿ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒä¹Ÿæ˜¯è·¨åŸŸçš„
- ç«¯å£ä¸åŒã€‚

cors ç­–ç•¥æ—¶ï¼Œè®¾ç½®â€œ**Access-Control-Allow-Origin**â€å‚æ•°å³å¯è§£å†³è·¨åŸŸé—®é¢˜ï¼Œæ­¤å‚æ•°å°±æ˜¯ç”¨æ¥è¡¨ç¤ºå…è®¸è·¨åŸŸè®¿é—®çš„åŸå§‹åŸŸåçš„ï¼Œå½“è®¾ç½®ä¸ºâ€œ\*â€æ—¶ï¼Œè¡¨ç¤ºå…è®¸æ‰€æœ‰ç«™ç‚¹è·¨åŸŸè®¿é—®

- vite é¡¹ç›®æ‰“å®ŒåŒ…ä¹‹åï¼Œæ‰§è¡Œ**vite preview**æ˜¯æ€æ ·åšåˆ°é¢„è§ˆçš„?

## 0317

- [Modern.js v2 å‘å¸ƒï¼šæ”¯æŒ Rspack æ„å»º](https://mp.weixin.qq.com/s/Ec8nw2Lt9lVQsdL2om7p9Q)
- æµå¼æ¸²æŸ“

Modern.js v2 åŸºäº React v18 çš„å…¨æ–° API æ”¯æŒäº†æµå¼æ¸²æŸ“ï¼ˆStreaming SSR ï¼‰ã€‚
å¦‚æœå¤§å®¶å…³æ³¨å»å¹´ React v18 çš„ç‰ˆæœ¬æ›´æ–°ï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°å®ƒæä¾›äº†æ–°çš„ Server Side APIsï¼Œå¹¶å¯¹ Suspense åšäº†å®Œæ•´æ”¯æŒã€‚åœ¨ Modern.js v2 ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ React Router v6 æš´éœ²çš„èƒ½åŠ›ï¼Œåœ¨æ¡†æ¶å±‚é¢æ”¯æŒäº†æµå¼æ¸²æŸ“ã€‚
æµå¼æ¸²æŸ“åˆ©ç”¨ HTTP çš„èƒ½åŠ›ï¼Œå…è®¸å°†é¡µé¢çš„ HTML åˆ†å‰²æˆè¾ƒå°çš„å—ï¼Œå¹¶é€æ­¥å°†è¿™äº›å—ä»æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯ã€‚é¡µé¢æ— éœ€ç­‰å¾…æ‰€æœ‰æ•°æ®åŠ è½½å®Œæˆï¼Œå³å¯å‘ˆç°å®Œæ•´ç”¨æˆ·ç•Œé¢ï¼Œå› æ­¤ä¸æ•°æ®æ— å…³çš„å±€éƒ¨å†…å®¹èƒ½å¤Ÿæ›´æ—©åœ°æ˜¾ç¤ºå‡ºæ¥ã€‚
åœ¨ Modern.js v2 ä¸­ï¼Œåªéœ€è¦é…ç½® server.ssr.modeï¼Œå³å¯å¼€å¯æµå¼æ¸²æŸ“ï¼š

```js
// modern.config.js
export default defineConfig({
  server: {
    mode: "stream",
  },
});
```

- ç®€å†ä¸­çš„æ¯ä¸€ä»½å·¥ä½œç»å†ï¼Œé‡ç‚¹æ˜¯å¸¦æ¥äº†ä»€ä¹ˆæˆæœï¼Ÿï¼Œä¸¾ä¸ªä¾‹å­æ¯”å¦‚ä» 0 åˆ° 1 éƒ¨ç½² nextjs é¡¹ç›®ï¼Œå¸¦äº† 100 ä¸‡çº§çš„ seo æµé‡ç­‰ç­‰

## 0318

- ç»“å©šï¼šåœ¨è€ƒè™‘ä¸éœ€è¦å©šåº†
- å©šæ‘„æ‘„å½±ï¼šæŸ¥æ‰¾åˆé€‚çš„ï¼Œå®æƒ ä¸€ç‚¹çš„
- èº«ä½“ä¿®å…»
- å¯¹è±¡å®¶é‡Œäººã€‚å¹³å¸¸å¿ƒå¯¹å¾…

## 0319

- ä¸ªäººåšå®¢ä¸»é¢˜ï¼šé¦–é¡µç»§ç»­å®Œå–„ï¼Œtailwindcss å†™çš„æœ‰ç‚¹æ…¢ï¼Œä¸€è¾¹å†™ä¸€è¾¹çœ‹æ–‡æ¡£

### [ä¸€æ–‡äº†è§£ NextJS å¹¶å¯¹æ€§èƒ½ä¼˜åŒ–åšå‡ºæœ€ä½³å®è·µ](https://mp.weixin.qq.com/s/ckuvu_NQ8g0EywFtZfCxzA)

- é’ˆå¯¹éé¦–å±ç»„å»ºåŸºäº dynamic åŠ¨æ€åŠ è½½
- next/script ä¼˜åŒ– script åŠ è½½æ—¶
- next/image ä¼˜åŒ–å›¾ç‰‡èµ„æº
- next/link é¢„åŠ è½½
- é™æ€å†…å®¹é¢„åŠ è½½
  åŸºäº **getStaticProps** å¯¹ä¸éœ€è¦æƒé™çš„å†…å®¹è¿›è¡Œé¢„åŠ è½½ï¼Œå®ƒå°†åœ¨ NextJS æ„å»ºæ—¶è¢«ç¼–è¯‘åˆ°é¡µé¢ä¸­ï¼Œå‡å°‘äº† http è¯·æ±‚æ•°é‡

```js
function Blog({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li>{post.title}</li>
      ))}
    </ul>
  );
}
export async function getStaticProps() {
  const res = await fetch("https://.../posts");
  const posts = await res.json();
  return {
    props: {
      posts,
    },
  };
}
export default Blog;
```

## 0320

- æ¥ä¸‹æ¥çš„å·¥ä½œé‡ç‚¹æ˜¯å¼€å‘å’Œéƒ¨ç½² nextjs é¡¹ç›®ï¼Œä¹Ÿå°±æ˜¯å¥‡è¿¹æ–‡å­¦ç½‘ç«™

- nextjs æ¥å…¥å¥åº·æ£€æŸ¥
  > è§£å†³ å¼•å…¥ koa å’Œ koa-router

```js
const server = new Koa();
const router = new Router();
router.get("/xx-qiji/healthcheck", (ctx) => {
  ctx.body = "healthCheck success cpp";
});
```

- NextJS å†…ç½® getStaticPropsã€getServerSideProps çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?

**getStaticProps** (Static Generation): Fetch data at build time.
é™æ€ç”Ÿæˆï¼Œæ„å»ºæ—¶è·å–æ•°æ®

getStaticPaths (Static Generation): Specify dynamic routes to pre-render pages based on data.
é™æ€ç”Ÿæˆï¼ŒæŒ‡å®šåŸºäºæ•°æ®é¢„æ¸²æŸ“é¡µé¢çš„åŠ¨æ€è·¯ç”±

**getServerSideProps** (Server-side Rendering): Fetch data on each request.
æœåŠ¡ç«¯æ¸²æŸ“ï¼Œåœ¨æ¯ä¸ªè¯·æ±‚ä¸Šè·å–æ•°æ®

- getStaticProps ç”¨äºé™æ€ç½‘ç«™ç”Ÿæˆï¼Œ**å½“ä½ çŸ¥é“ä½ åœ¨æ„å»ºæ—¶è¦è·å–ä»€ä¹ˆæ•°æ®æ—¶å°±ä½¿ç”¨å®ƒ**ï¼Œä¾‹å¦‚ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Œæ€§èƒ½éå¸¸å¿«ï¼Œè€Œä¸”æœ‰åˆ©äº SEOã€‚

  > åŸºäº getStaticProps å¯¹ä¸éœ€è¦æƒé™çš„å†…å®¹è¿›è¡Œé¢„åŠ è½½ï¼Œå®ƒå°†åœ¨ NextJS æ„å»ºæ—¶è¢«ç¼–è¯‘åˆ°é¡µé¢ä¸­ï¼Œå‡å°‘äº† http è¯·æ±‚æ•°é‡
  > å¦‚æœä½ èƒ½åœ¨æ‰“åŒ…çš„æ—¶å€™æ§åˆ¶æ•°æ®å°±ç”¨å®ƒï¼Œå› ä¸º getStaticProps çš„å†…å®¹ä¼šè¢«é¢„åŠ è½½æˆ htmlï¼Œä¹Ÿå°±æ˜¯å›ºå®šçš„ï¼Œä¸ä¼šå˜

- getServerSideProps ç”¨äºæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œå½“ä½ æœ‰å¯èƒ½ç»å¸¸å˜åŒ–çš„æ•°æ®æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚å¤©æ°” APIï¼Œä½†æ€§èƒ½å¯èƒ½æ¯” SSG ç•¥å·®

åœ¨ Next.js ä¸­ï¼Œåœ¨ Page é¡µé¢ä¸­å¯ä»¥å¯¼å‡ºä¸€ä¸ª getServerSideProps æ–¹æ³•ï¼Œç”¨äºæœåŠ¡ç«¯è·å–æ•°æ®

- å¦‚ä½•åˆ¤æ–­ä¸Šçº¿ nextjs é¡¹ç›®æ˜¯ç”¨çš„ ssr è¿˜æ˜¯ ssg æ¨¡å¼?
- [nextjs æ·±åº¦å¥½æ–‡](https://www.infoq.cn/article/jpncv2dxvfqxi4kxjgwr)

- IncreIncremental Site Rendering (ISR): å¢é‡é™æ€ç”Ÿæˆï¼ŒåŸºäºé¡µé¢å†…å®¹çš„ç¼“å­˜æœºåˆ¶ï¼Œä»…å¯¹æœªç¼“å­˜è¿‡çš„é™æ€é¡µé¢è¿›è¡Œç”Ÿæˆï¼Œ**ä¾èµ–æœåŠ¡ç«¯**
  > è¿™ä¸ªåŸç†æ˜¯å•¥ï¼Œå¦‚ä½•åšåˆ°çš„

```ts
async function getStaticProps() {
  const res = await fetch("https://.../posts");
  const posts = await res.json();
  return {
    props: {
      posts,
    },
    // Next.js will attempt to re-generate the page:
    // - When a request comes in
    // - At most once every 10 seconds
    revalidate: 10, // In seconds
  };
}
```

## 0321

- Nextjs é¡¹ç›®ç»§ç»­æ‰“ç£¨ï¼Œå¦‚ä½•è¿›è¡Œå¾ˆå¥½çš„å¸ƒå±€ï¼Œè¿™æ ·å¤šä¸ªé¡µé¢å°±èƒ½åŒæ—¶ç”¨ï¼Ÿ

```tsx
(Home as NextPageWithLayout).getLayout = function getLayout(
  page: React.ReactElement
) {
  return <Layout>{page}</Layout>;
};
export default Home;
```

- tailwindcss ç»§ç»­ä¸Šæ‰‹,å¦‚ä½•æ¿€å‘ tailwindcss æœ€å¤§å¨åŠ›ï¼Ÿ é…åˆ clsx çš„åŠ¨æ€èƒ½åŠ›ï¼Œæ­è½½ tailwindcss å¾ˆçˆ½ï¼

```tsx
import clsx from "clsx";

export const SkeletonCard = ({ isLoading }: { isLoading?: boolean }) => (
  <div
    className={clsx("rounded-2xl bg-gray-900/80 p-4", {
      "relative overflow-hidden": isLoading,
      "bg-vercel-blue text-white": !isLoading,
    })}
  >
    <div className="space-y-3">
      <div className="h-14 rounded-lg bg-gray-700" />
      <div className="h-3 w-11/12 rounded-lg bg-gray-700" />
      <div className="h-3 w-8/12 rounded-lg bg-gray-700" />
    </div>
  </div>
);
```

- é¡¹ç›®é‡Œ prettier æœ‰é—®é¢˜ï¼Œå¯¹ **tsx** åç¼€æ–‡ä»¶æ²¡æœ‰æ ¼å¼åŒ–ä»£ç ï¼Œä¿®å¤å¦‚ä¸‹

```json
// vscode ä¸­çš„settings,json
"[vue]": {
  "editor.defaultFormatter": "esbenp.prettier-vscode"
},
"[javascript]": {
  "editor.defaultFormatter": "esbenp.prettier-vscode"
},
"[typescript]": {
  "editor.defaultFormatter": "esbenp.prettier-vscode"
},
"[typescriptreact]": {
  "editor.defaultFormatter": "esbenp.prettier-vscode"
},

```

## 0322

### React Server Components ( RFC ) ä¸ä¼ ç»Ÿçš„ SSR ä¸åŒï¼Œä¼˜ç‚¹æ˜¯æ‹¥æœ‰æµå¼ HTML å’Œé€‰æ‹©æ€§æ³¨æ°´?

> å®Œè›‹ï¼Œè¿™ä¸ª RFC åˆæ˜¯å•¥ç©æ„ï¼Œçœ‹ä¸æ‡‚
> [react æ–‡æ¡£ä»‹ç»](https://github.com/reactwg/react-18/discussions/37)

:::details

React Server Components æ˜¯ React å›¢é˜Ÿæå‡ºçš„ä¸€ç§æ–°çš„æ¦‚å¿µï¼Œæ—¨åœ¨æé«˜ Web åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚å®ƒä»¬æ˜¯ä¸€ç§æ–°çš„ React ç»„ä»¶ç±»å‹ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“å’Œå¤„ç†ï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚

- React Server Components çš„ä¸»è¦æ€æƒ³æ˜¯å°†ç»„ä»¶çš„æ¸²æŸ“å’Œå¤„ç†ç§»åŠ¨åˆ°æœåŠ¡å™¨ç«¯ï¼Œä»¥å‡è½»å®¢æˆ·ç«¯çš„è´Ÿæ‹…ã€‚è¿™æ ·å¯ä»¥å‡å°‘å®¢æˆ·ç«¯çš„ JavaScript ä»£ç é‡ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚
- React Server Components çš„å¦ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯å®ƒä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½å’Œå¸è½½ã€‚è¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€åœ°åŠ è½½å’Œå¸è½½ç»„ä»¶ï¼Œä»è€Œå‡å°‘åº”ç”¨ç¨‹åºçš„å†…å­˜å ç”¨å’ŒåŠ è½½æ—¶é—´ã€‚

åœºæ™¯ï¼š

1.å¤§å‹å•é¡µåº”ç”¨ç¨‹åºï¼šåœ¨å¤§å‹å•é¡µåº”ç”¨ç¨‹åºä¸­ï¼Œå¯èƒ½ä¼šæœ‰è®¸å¤šç»„ä»¶ï¼Œå…¶ä¸­ä¸€äº›å¯èƒ½åªåœ¨ç‰¹å®šçš„é¡µé¢æˆ–çŠ¶æ€ä¸‹ä½¿ç”¨ã€‚ä½¿ç”¨ React Server Componentsï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶åŠ¨æ€åŠ è½½è¿™äº›ç»„ä»¶ï¼Œä»è€Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´å’Œé¡µé¢å¤§å°ã€‚

2.åŠ¨æ€å†…å®¹ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦æ ¹æ®ç”¨æˆ·çš„è¡Œä¸ºæˆ–å…¶ä»–æ¡ä»¶åŠ¨æ€åŠ è½½å’Œå¸è½½ç»„ä»¶ã€‚ä½¿ç”¨ React Server Componentsï¼Œå¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€åŠ è½½å’Œå¸è½½ç»„ä»¶ï¼Œä»è€Œæé«˜é¡µé¢çš„æ€§èƒ½å’Œå“åº”é€Ÿåº¦ã€‚
:::

åœ¨ app ç›®å½•ä¸‹çš„ç»„ä»¶é»˜è®¤éƒ½æ˜¯ React Server Componentsï¼Œé‚£ä¹ˆ React Server Components æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ
è¿™é‡Œæœ‰å‡ ä¸ªæ¦‚å¿µ

- CSR:æ‰€æœ‰å‰ç«¯æ‰“åŒ…åˆ°å‰ç«¯ï¼Œé€šå¸¸ä¼šå¼•èµ·æµè§ˆå™¨åŠ è½½ JavaScript è¿‡å¤§ï¼Œä»è€Œå¯¼è‡´é¦–å±ç™½å±æ—¶é—´è¿‡é•¿

- SSRï¼šæ•°æ®åœ¨æœåŠ¡ç«¯è¯·æ±‚ï¼Œé€šè¿‡ renderToString æ–¹æ³•å°†å­—ç¬¦ä¸² DOM ç»“æ„è¾“å‡ºç»™æµè§ˆå™¨ï¼Œæ­¤æ—¶æµè§ˆå™¨è¿˜ä¸èƒ½äº¤äº’ï¼ŒReact ä¸èƒ½ç®¡ç†å·²ç»å­˜åœ¨çš„ DOMï¼Œéœ€è¦é‡æ–°æ‰§è¡Œä¸€éï¼Œè¿™ä¸ªè¿‡ç¨‹å«â€œæ³¨æ°´/æ°´åˆâ€ï¼ˆHydrateï¼‰ã€‚Next12 **getServerSideProps** çš„æ¸²æŸ“æ–¹å¼ä¹Ÿå°±æ˜¯ SSRã€‚

SSR è§£å†³äº†ç™½å±æ—¶é—´è¿‡é•¿çš„é—®é¢˜å’Œ SEO çš„é—®é¢˜ï¼Œä½†ä¹Ÿå¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œ**è¿‡å¤šçš„è¯·æ±‚ä¼šå¯¼è‡´æœåŠ¡ç«¯å“åº”æ—¶é—´å˜é•¿**ï¼Œâ€œæ³¨æ°´/æ°´åˆâ€ï¼ˆHydrateï¼‰çš„è¿‡ç¨‹ä¹Ÿä¼šå¯¼è‡´å®¢æˆ·ç«¯ä»£ç é‡çš„å¢åŠ ã€‚

React Suspense API è§£é”äº† React 18 ä¸­çš„ä¸¤ä¸ªä¸»è¦ SSR åŠŸèƒ½ï¼š

- åœ¨æœåŠ¡å™¨ä¸Šæµå¼ä¼ è¾“ HTMLã€‚
  è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦ä»åŸæ¥çš„æ–¹æ³•åˆ‡æ¢ renderToString åˆ‡æ¢åˆ°æ–°**renderToPipeableStream**æ–¹æ³•ã€‚

  > æœåŠ¡ç«¯ä¸€æ®µä¸€æ®µä¼ ç»™å®¢æˆ·ç«¯

- å®¢æˆ·ç«¯é€‰æ‹©æ€§æ³¨æ°´ã€‚
  ä½¿ç”¨ **hydrateRoot** ä»£æ›¿ createRoot æ–¹æ³•ï¼Œä½¿ç”¨**Ract.lazy**åŒ…è£¹å’Œ **Suspense** ç»„ä»¶

  å³ä½¿ HTML è¢«æµå¼ä¼ è¾“ï¼Œé¡µé¢ä¹Ÿä¸ä¼šå¯äº¤äº’çš„ï¼Œé™¤éé¡µé¢çš„æ•´ä¸ª JavaScript è¢«ä¸‹è½½å®Œã€‚è¿™å°±æ˜¯é€‰æ‹©æ€§æ³¨æ°´çš„ç”¨æ­¦ä¹‹åœ°ã€‚

  ç°åœ¨ React.lazy åœ¨æœåŠ¡ç«¯å¼€ç®±å³ç”¨ã€‚ å½“ä½ å°† lazy ç»„ä»¶åŒ…è£¹åœ¨ **Suspense** ä¸­æ—¶ï¼Œä¸ä»…å‘Šè¯‰ React ä½ å¸Œæœ›å®ƒè¢«æµå¼ä¼ è¾“ï¼Œè€Œä¸”å³ä½¿åŒ…è£¹åœ¨ Suspense ä¸­çš„ç»„ä»¶ä»åœ¨è¢«æµå¼ä¼ è¾“ï¼Œä¹Ÿå…è®¸å…¶ä½™éƒ¨åˆ†æ³¨æ°´

  [React 18 ä¸­çš„æµå¼ SSR](https://juejin.cn/post/7154175507280429070#heading-11)

  > å®¢æˆ·ç«¯é€‰æ‹©æ€§æ³¨æ°´

æ¯”å¦‚ä¸Šé¢çš„åšå®¢å®ä¾‹ï¼Œè¯„è®ºæ¥å£æŸ¥è¯¢é€Ÿåº¦è¾ƒæ…¢ï¼Œå°±å¯ä»¥ä½¿ç”¨ Suspense å®ç°æµæ¸²æŸ“ã€‚
æ‰€è°“çš„æµå°±æ˜¯é€šè¿‡ script åŠ¨æ€è¿”å›æœ€å° htmlï¼Œå¹¶ä¸”æ’å…¥åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œé¡µé¢ä¸­å¦‚æœæœ‰å¤šä¸ª Suspenseï¼Œæ˜¯æ²¡æœ‰å…ˆåé¡ºåºçš„ï¼ŒReact Server Components æ˜¯å¹¶è¡Œçš„ã€‚

```js
import { lazy } from "react";
const Comments = lazy(() => import("./Comments.js"));
//...
return (
  <Layout>
    <NavBar />
    <Sidebar />
    <RightPane>
      <Post />
      <Suspense fallback={<Spinner />}>
        <Comments />
      </Suspense>
    </RightPane>
  </Layout>
);
```

### [çœ‹äº†å‡ å¤©çš„ Nextjs æ–‡æ¡£ï¼Œæ€€ç–‘è‡ªå·±çœ‹äº†å‡çš„æ–‡æ¡£åœ°å€](https://beta.nextjs.org/docs/api-reference/fetch)

#### fetch

```tsx
// test.tsx
export default async function Page() {
  // This request should be cached until manually invalidated.
  // Similar to `getStaticProps`.
  // `force-cache` is the default and can be omitted.
  const staticData = await fetch(`https://...`, { cache: "force-cache" });

  // This request should be refetched on every request.
  // Similar to `getServerSideProps`.
  const dynamicData = await fetch(`https://...`, { cache: "no-store" });

  // This request should be cached with a lifetime of 10 seconds.
  // Similar to `getStaticProps` with the `revalidate` option.
  const revalidatedData = await fetch(`https://...`, {
    next: { revalidate: 10 },
  });

  return <div>...</div>;
}
```

### [tailwindCss è‡ªå®šä¹‰è®¾ç½®å±æ€§](https://tailwindcss.com/docs/adding-custom-styles#using-arbitrary-values)

```html
<div class="bg-[url('/img/hero-pattern.svg')]">
  <!-- ... -->
</div>
<div class="top-[117px] lg:top-[344px]">
  <!-- ... -->
</div>
```

æˆ–è€…å®Œå…¨æ‰‹å†™è‡ªå·±çš„ css,éœ€è¦æ–¹æ‹¬å·åŒ…èµ·æ¥

```html
<div class="[--scroll-offset:56px] lg:[--scroll-offset:44px]">
  <!-- ... -->
</div>
```

## 0323

- é‡‘ä¸‰é“¶å›› ä¸èƒ½æ”¾å¼ƒæœºä¼šï¼Œæ—¶åˆ»å‡†å¤‡ç€,ç”¨ ES5 å®ç° es6 class ä¸­çš„ extends(é«˜é¢‘é¢è¯•é¢˜)

```js
function extend(Child, Parent, proto) {
  var prototype = Object.create(Parent.prototype); // 1
  prototype.constructor = Child; // 2
  Child.prototype = prototype; // 3
  for (var k in proto) {
    Child.prototype[k] = proto[k];
  }
}
function Par(name) {
  this.name = name;
}
Par.prototype.logName = function () {
  console.log(`My name is ${this.name}`);
};

function Child(name, age) {
  Par.call(this, name);
  this.age = age;
}

extend(Child, Par, {
  logAge() {
    console.log(`my age is ${this.age}`);
  },
});
var b = new Child("cpp", 31);
b.logName();
b.logAge();
```

- çªå‘å¥‡æƒ³ï¼Œçœ‹åˆ°äº† OPENAI åœ¨æ‹›[å‰ç«¯å·¥ç¨‹å¸ˆ](https://openai.com/careers/software-engineer-front-endux)

- OpenAi å®˜ç½‘ä¸Šä¸€ä¸ªåè£”å¥³å‘˜å·¥çš„[ä¸ªäººåšå®¢](https://lilianweng.github.io/)ï¼Œä¸»é¢˜ç®€çº¦ï¼Œé˜”ä»¥è¯•è¯•.ä»å¤´å¼€å§‹æ­å»ºåšå®¢ï¼Œä¸ªäººä¸»é¢˜ï¼Œä¸ä¾èµ–äº vitepress æˆ–è€… modern.js

- object-fit ä¸€èˆ¬ç”¨äº img å’Œ video æ ‡ç­¾ï¼Œä¸€èˆ¬å¯ä»¥å¯¹è¿™äº›å…ƒç´ è¿›è¡Œä¿ç•™åŸå§‹æ¯”ä¾‹çš„å‰ªåˆ‡ã€ç¼©æ”¾æˆ–è€…ç›´æ¥è¿›è¡Œæ‹‰ä¼¸ç­‰ã€‚

```css
object-fit: fill|contain|cover|scale-down|none|initial|inherit;
```

## 0324

- å‰å‡ å¤©æ™šä¸Šç ä»£ç æ—¶é—´å¤ªä¹…äº†ï¼Œç™½å¤©æ²¡ä¼‘æ¯è¿‡æ¥ï¼Œæœ‰ç‚¹ç´¯äº†ï¼Œæœ€è¿‘ä¼‘æ¯ä¸‹
- ä¸ªäººä¸»é¢˜å¦‚ä½•ä¸ tailwindcss ç»“åˆå®ç° dark/light æ¨¡å¼åˆ‡æ¢
- ä¸–çºªéš¾é¢˜ï¼Œreact æµå¼æ¸²æŸ“åˆ°åº•ä¼šä¸ä¼šå½±å“ seo?å½±ä¸å½±å“çˆ¬è™«çˆ¬å–é¡µé¢ï¼Ÿ
- [React Server Component: æ··åˆå¼æ¸²æŸ“](https://mp.weixin.qq.com/s/B-XLvW00vl5RE1Ur3EW4ow)
- [React Streaming SSR åŸç†è§£æ](https://mp.weixin.qq.com/s/w4FS5sBcHqRl-Saqi19Y6g)
- æ··åˆæ¸²æŸ“æ€è·¯æœ‰ç‚¹åƒ Islands æ¶æ„ï¼Œä½†åˆæœ‰ç‚¹ä¸å¤ªä¸€æ ·ï¼Œä¸ä¸€æ ·åœ¨å“ªé‡Œ
- vitepress/vite å·¥å…·æ¥ä¸‹æ¥çš„ç ”ç©¶é‡ç‚¹ï¼Œå¦‚ä½•æ‰“é€ å‡ºè‡ªå·±çš„ SSG ç”Ÿæ€ï¼Œç„¶åå‘å¸ƒè‡ªå®šä¹‰ä¸»é¢˜

## 0325-26

- ç»å†äº†ç—›è‹¦çš„å‘¨æœ«ï¼Œå¯¹è±¡è¿ç»­ä¸¤å¤©å‘çƒ§ï¼Œé«˜çƒ§ 39 åº¦ï¼Œæ·±å¤œè¿›è¡Œç‰©ç†é™æ¸©ï¼Œè¿™æ¬¡æœ€å¤§çš„æ•™è®­ä¸€ä¸ªæ˜¯åŒ»ä¿æ²¡æœ‰è½å®åˆ°ä½ï¼Œä¸€ä¸ªæ˜¯æŒ‚æ°´ä¹‹å‰æ²¡æœ‰åƒé¥­å¯¼è‡´è¡€ç®¡é—­å¡ï¼Œæ’ä¸äº†é’ˆï¼ŒæŠ¤å£«è¯´æ˜¯å¹³æ—¶ç¼ºä¹é”»ç‚¼å¯¼è‡´
- ä¸Šå‘¨äº”ç»™ Modern.js æäº†ä¸€ä¸ª[pr,ä¸»è¦æ˜¯å®˜ç½‘ä»‹ç»é‡Œ mdx æ ¼å¼é”™è¯¯å¯¼è‡´æ–‡æ¡£å‡Œä¹±](https://github.com/web-infra-dev/modern.js/pull/3251),ç®—æ˜¯ä¸€ç§å¼€å§‹

## 0327

- æœ€è¿‘å‡ å¤©éœ€è¦æ·±åº¦ä¼‘æ¯ï¼Œä¸ªäººå­¦ä¹ æš‚æ—¶å¾€åæŒªä¸€ä¸‹
- å¦‚ä½•ä¸ºå¼€æºåšè´¡çŒ®
  ChatGPT ä¸ºæ‚¨æ‰¾åˆ°å¦‚ä¸‹ç­”æ¡ˆï¼š
  æ‰¾åˆ°åˆé€‚çš„å¼€æºä»“åº“ï¼šé¦–å…ˆï¼Œä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªä½ æ„Ÿå…´è¶£çš„å¼€æºé¡¹ç›®ï¼Œå¯ä»¥é€šè¿‡ GitHubã€GitLabã€Bitbucket ç­‰ä»£ç æ‰˜ç®¡å¹³å°æœç´¢ã€‚

  é˜…è¯»è´¡çŒ®æŒ‡å—ï¼šæ¯ä¸ªå¼€æºé¡¹ç›®éƒ½ä¼šæœ‰è´¡çŒ®æŒ‡å—ï¼Œè¿™äº›æŒ‡å—ä¼šå‘Šè¯‰ä½ å¦‚ä½•ä¸ºè¯¥é¡¹ç›®åšå‡ºè´¡çŒ®ï¼ŒåŒ…æ‹¬å¦‚ä½•æäº¤ä»£ç ã€å¦‚ä½•æŠ¥å‘Šé—®é¢˜ç­‰ã€‚

  1.Fork é¡¹ç›®ï¼šåœ¨é¡¹ç›®é¡µé¢ä¸Šç‚¹å‡»â€œForkâ€æŒ‰é’®ï¼Œå°†è¯¥é¡¹ç›®çš„ä»£ç å¤åˆ¶åˆ°ä½ çš„ GitHub è´¦æˆ·ä¸­ã€‚

  2.åˆ›å»ºåˆ†æ”¯ï¼šåœ¨æœ¬åœ°ä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œç”¨äºä¿®æ”¹ä»£ç ã€‚

  3.ä¿®æ”¹ä»£ç ï¼šåœ¨æ–°çš„åˆ†æ”¯ä¸Šä¿®æ”¹ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨æˆ– IDEã€‚

  4.æäº¤ä»£ç ï¼šå°†ä¿®æ”¹åçš„ä»£ç æäº¤åˆ°ä½ çš„ Fork ä»“åº“ä¸­ã€‚

  5.åˆ›å»º **Pull Request**ï¼šåœ¨ä½ çš„ Fork ä»“åº“é¡µé¢ä¸Šç‚¹å‡»â€œNew Pull Requestâ€æŒ‰é’®ï¼Œåˆ›å»ºä¸€ä¸ª Pull Requestï¼Œå°†ä½ çš„ä¿®æ”¹æäº¤ç»™åŸå§‹ä»“åº“ã€‚

  6.ç­‰å¾…å®¡æ ¸ï¼šç­‰å¾…åŸå§‹ä»“åº“çš„ç»´æŠ¤è€…å®¡æ ¸ä½ çš„ Pull Requestï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œä»–ä»¬ä¼šæå‡ºä¿®æ”¹æ„è§ã€‚

  7.åˆå¹¶ä»£ç ï¼šå¦‚æœä½ çš„ Pull Request è¢«æ¥å—ï¼Œä½ çš„ä»£ç å°†è¢«åˆå¹¶åˆ°åŸå§‹ä»“åº“ä¸­ï¼Œä½ çš„è´¡çŒ®å°±å®Œæˆäº†ã€‚

- æ‰‹å†™é¢˜ï¼Œæ·±æ‹·è´ï¼Œts ç‰ˆ

```ts
// function deepClone<T>(obj:T): T {
//   if(typeof obj !== 'object' || obj === null) {
//     return obj
//   }
//   let newObj = Array.isArray(obj) ? [] : {}
//   for (let i in obj) {
//     if (obj.hasOwnProperty(i)) {
//       newObj[i] = typeof obj[i] === 'obejct' ï¼Ÿ deepClone(obj[i])ï¼šobj[i]
//     }
//   }
//   return newObj
// }
```

> Object.hasOwnProperty() è‡ªèº«å±æ€§ä¸ç»§æ‰¿å±æ€§

```js
o = new Object();
o.hasOwnProperty("prop"); // false
o.prop = "exists";
o.hasOwnProperty("prop"); // è¿”å› true
o.hasOwnProperty("toString"); // è¿”å› false
o.hasOwnProperty("hasOwnProperty"); // è¿”å› false
```

## 0328

- å¯¹è±¡ç”Ÿç—…è¿˜æ²¡å¥½ï¼Œä»Šå¤©æ—©ç‚¹åšå®Œæ—©ç‚¹å›å»ç…§é¡¾
- æˆ‘ä¼¼ä¹æœ‰ä¸€ç§æ‰§å¿µï¼Œå¯¹äºæƒ³çœ‹çš„ç”µè§†å‰§éè¦çœ‹å®Œï¼Œæ˜çŸ¥æ—¶é—´å·²ç»å¾ˆæ™šäº†ï¼Œè¿˜è¦åšè¿™ç§ä¼¤å®³èº«ä½“çš„äº‹ï¼Œå¹´çºªå¤§äº†ï¼Œæ˜¯ä¸æ˜¯èº«ä½“å¥åº·æ°¸è¿œæ˜¯ç¬¬ä¸€ä½çš„
- Modern.js çœ‹èµ·æ¥æœ‰äº›å†…å®¹éœ€è¦ä¼˜åŒ–ï¼Œ1.modern.js æœç´¢ç‚¹å‡»å…³é—­ï¼Œå†…å®¹å…³ä¸æ‰ bug 2.moder.js ä»£ç åˆ‡æ¢ä¼˜åŒ–ï¼Œé˜”ä»¥å€Ÿé‰´ vitepress
- ä»Šå¤©ç»§ç»­æ‰‹å†™ä»£ç ,å‡ ç§æ’åºéœ€è¦å›å¿†ä¸‹

```js
// äº¤æ¢ä¹‹å†’æ³¡æ’åº
function bubbleSort(arr) {
  let len = arr.length;
  for (let i = 0; i < len; i++) {
    for (let j = 0; j < len - i - 1; j++) {
      if (arr[j] > arr[j + 1]) {
        let temp = arr[j];
        arr[j] = arr[j + 1];
        arr[j + 1] = temp;
      }
    }
  }
  return arr;
}
var test = [22, 11, 1, 222, 99];
bubbleSort(test);
// äº¤æ¢ä¹‹å¿«é€Ÿæ’åº
function quickSort(arr) {
  if (arr.length <= 1) return arr;
  var mid = arr[0];
  var len = arr.length;
  let left = [],
    right = [];
  // æ³¨æ„éå†æ˜¯ä»1å¼€å§‹
  for (let i = 1; i < len; i++) {
    if (arr[i] > mid) {
      right.push(arr[i]);
    } else if (arr[i] <= mid) {
      left.push(arr[i]);
    }
  }
  console.log(left, right);
  return [...quickSort(left), mid, ...quickSort(right)];
}
quickSort(test);
```

- webpack ä¸­ tree shaking åŸç†
  æ ‘æ‘‡æ™ƒæ˜¯æŒ‡åœ¨ä»£ç åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œåˆ æ‰æœªä½¿ç”¨ä»£ç çš„ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ã€‚åº•å±‚åŸç†æ˜¯åŸºäº ES6 æ¨¡å—åŒ–çš„é™æ€åˆ†æï¼Œé€šè¿‡æ£€æµ‹ä»£ç ä¸­çš„ä¾èµ–å…³ç³»ï¼Œæ‰¾åˆ°æœªä½¿ç”¨çš„ä»£ç ï¼Œå°†å…¶ä»æ‰“åŒ…ç»“æœä¸­åˆ é™¤ï¼Œwebpack ä¸­çš„ tree shaking çš„å®ç°ä¸»è¦ä¾é  2 ä¸ªåŠŸèƒ½ï¼šé™æ€åˆ†æå’Œå‰¯ä½œç”¨æ ‡è®°ã€‚ 1.é™æ€åˆ†ææ˜¯æŒ‡åœ¨æ„å»ºæ—¶åˆ†ææ¨¡å—å’Œä»£ç ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ‰¾åˆ°æœªè¢«ä½¿ç”¨çš„ä»£ç ã€‚webpack ä¼šä»å…¥å£æ–‡ä»¶å¼€å§‹é€’å½’åˆ†æä»£ç ä¸­çš„ä¾èµ–å…³ç³»ï¼Œå°†æ‰€æœ‰çš„ä¾èµ–å…³ç³»æ„å»ºæˆä¸€ä¸ªä¾èµ–æ ‘ã€‚ä¾èµ–æ ‘ä¸­åŒ…å«äº†æ¯ä¸ªæ¨¡å—çš„ä¾èµ–å…³ç³»å’Œå¯¼å‡ºä¿¡æ¯ï¼Œé€šè¿‡åˆ†æè¿™äº›ä¿¡æ¯ï¼ŒWebpack å¯ä»¥è¯†åˆ«å“ªäº›ä»£ç è¢«ä½¿ç”¨å’Œå“ªäº›ä»£ç æ²¡æœ‰è¢«ä½¿ç”¨ã€‚ 2.å‰¯ä½œç”¨æ ‡è®°æ˜¯æŒ‡ç”¨æ¥æ ‡è®°ä»£ç ä¸­æ˜¯å¦å­˜åœ¨å‰¯ä½œç”¨çš„æ ‡è®°ã€‚åœ¨ Javascript ä¸­ï¼Œé™¤äº†è¥¿æ•°çš„è¿”å›å€¼ï¼Œè¿˜å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›å‰¯ä½œç”¨(Side Effects) çš„æ“ä½œï¼Œä¾‹å¦‚ä¿®æ”¹å…¨å±€å˜é‡ã€è¯»å–å¤–éƒ¨æ•°æ®ç­‰ã€‚è¿™äº›æ“ä½œä¼šå½±å“ä»£ç çš„è¿è¡Œç»“æœï¼Œå¦‚æœæ²¡æœ‰æ ‡è®°ï¼ŒWebpack å°†æ— æ³•è¯†åˆ«å“ªäº›ä»£ç å…·æœ‰å‰¯ä½œç”¨ã€‚é€šè¿‡åœ¨ä»£ç ä¸­æ·»åŠ ç‰¹å®šçš„æ³¨é‡Šæˆ–è€…ä½¿ç”¨ç‰¹å®šçš„ç¼–è¯‘å·¥å…·ï¼Œå¯ä»¥å°†å‰¯ä½œç”¨æ ‡è®°æ·»åŠ åˆ°ä»£ç ä¸­ï¼Œä»è€Œå¸®åŠ© Webpack è¯†åˆ«ä»£ç ä¸­çš„å‰¯ä½œç”¨ï¼Œè¿›è€Œå®ç° Tree Shakingã€‚

  æ€»çš„æ¥è¯´ï¼ŒWebpack çš„ Tree Shaking å®ç°ä¾é é™æ€åˆ†æå’Œå‰¯ä½œç”¨æ ‡è®°ä¸¤ä¸ªåŠŸèƒ½ï¼Œé€šè¿‡åˆ†æä»£ç ä¸­çš„ä¾èµ–å…³ç³»ï¼Œæ‰¾
  åˆ°æœªè¢«ä½¿ç”¨çš„ä»£ç ï¼Œå¹¶å°†å…¶ä»æ‰“åŒ…ç»“æœä¸­åˆ é™¤ï¼Œä»è€Œå®ç°ä»£ç çš„ä¼˜åŒ–å’Œç²¾ç®€ã€‚

## 0329

- è¿ç»­ä¸¤å¤©æ²¡å¸¦ç”µè„‘å›å»ï¼Œæœ‰ç‚¹ç–²è½¯ï¼Œä¸»è¦æ˜¯èº«ä½“è¿˜æœªæ¢å¤ï¼Œä»Šå¤©æ¯”æ˜¨å¤©è¦å¤šä¼‘æ¯åŠå°æ—¶ï¼Œæ—©èµ·åŠå°æ—¶ï¼Œ23:30-8:00,æ¯å¤©ä¸‹åˆæœ‰äº”ä¸ªå°æ—¶æ—¶é—´ï¼Œ2 å°æ—¶å·¥ä½œï¼Œä¸‰å°æ—¶å­¦ä¹ ï¼Œå­¦ä¹ å†…å®¹ï¼Œä¸€ä¸ªæ˜¯æ‰‹å†™é¢˜ï¼Œä¸€ä¸ªæ˜¯çŸ¥è¯†ç‚¹é›¶æ•£è®°å¿†ï¼ŒåŒæ—¶æŠ½åŠå°æ—¶çœ‹ä¸‹æœ€æ„Ÿå…´è¶£çš„å¼€æºä»“åº“ï¼Œè¯•è¯•æœ‰æ²¡æœ‰ä¼˜åŒ–ç©ºé—´çš„å¯èƒ½æ€§
- å¤ä¹ ä¸‹æ˜¨æ—¥çš„æ‰‹å†™é¢˜,åŒæ—¶æ–°å¢é€‰æ‹©æ’åºå’Œæ’å…¥æ’åº

```js
function bubbleSort(arr) {}
function quickSort(arr) {}
// é€‰æ‹©æ’åº
// æ€è·¯æ˜¯å°†æœ€å°çš„æ”¾åœ¨æ•°ç»„çš„èµ·å§‹ä½ç½®ï¼Œç„¶åä»å‰©ä¸‹çš„æ‰¾æœ€å°çš„å…ƒç´ ç„¶åæ”¾åˆ°å·²æ’åºçš„åé¢
function selectSort(arr) {
  let len = arr.length;
  let min;
  for (let i = 0; i < len; i++) {
    min = i;
    for (let j = i + 1; j < len; j++) {
      if (arr[j] <= arr[min]) {
        min = j;
      }
    }
    let temp = arr[i];
    arr[i] = arr[min];
    arr[min] = temp;
  }
  return arr;
}
selectSort([1, 33, 2, 111, 99, 22]);
// æ’å…¥æ’åº
// æ€è·¯ å¤§å¾ªç¯æ˜¯éå†æ¯ä¸€ä¸ª å°å¾ªç¯æ˜¯ä»åå¾€å‰éå† å½“å‰å…ƒç´ å’Œå‰é¢å…ƒç´ è¿›è¡Œäº¤äº¤æ¢ æœ€ç»ˆå½“å‰å…ƒç´ æ”¾åˆ°åˆé€‚çš„ä½ç½®
function insertSort(arr) {
  let len = arr.length;
  for (let i = 1; i < len; i++) {
    let cur = arr[i];
    let pre = i - 1;
    while (pre >= 0 && arr[pre - 1] > cur) {
      arr[pre + 1] = arr[pre];
      pre--;
    }
    arr[pre + 1] = cur;
  }
  return arr;
}

function insertSort(arr) {
  var len = arr.length;
  for (let i = 1; i < len; i++) {
    let cur = arr[i];
    let j = i;
    while (j >= 0 && arr[j - 1] > cur) {
      arr[j] = arr[j - 1];
      j--;
    }
    arr[j] = cur;
  }
  return arr;
}
var test = [3, 22, 11, 2, 33, 0, 8];
insertSort(test);
```

## 0330

- çœ‹æºç  ä¸€æ–¹é¢è¦çœ‹æ‡‚ï¼Œå¦ä¸€æ–¹é¢è¦å»å­¦ä¹ é‡Œé¢ç”¨åˆ°çš„å‰ç«¯å·¥ç¨‹åŒ–çŸ¥è¯†ä»¥åŠè®¾è®¡æ€è·¯å’Œç†å¿µã€‚å¾ˆå¤šäººåªæ˜¯å»ä¸‹è½½äº†æºç ï¼Œç„¶åé˜…è¯»å°±æ²¡äº‹äº†ï¼Œæˆ‘å¸Œæœ›è‡ªå·±èƒ½æ›´è¿›ä¸€æ­¥
- åˆ æ‰ npm åŒ…é‡ŒæŸä¸€ä¸ªç‰ˆæœ¬

```bash
npm unpublish åŒ…å --force # å¼ºåˆ¶åˆ é™¤
npm unpublish guitest@1.0.1 # æŒ‡å®šç‰ˆæœ¬å·
npm deprecate # æŸäº›æƒ…å†µ
```

- git clone æ‹‰å–ä»“åº“ä»£ç ï¼Œè€æ˜¯æŠ¥ **Failed to connect to github.com port 443: Operation timed out**ï¼ŒçŸ¥ä¹åˆ°ä¸€ä¸ªè§£å†³æªæ–½ï¼š
  ç”¨ ssh çš„åœ°å€æ¥æ‹‰ä»£ï¼ï¼ï¼å‰ææ˜¯ä½ çš„å…¬é’¥ä»¥åŠåœ¨ github ä¸ªäººè®¾ç½®é‡Œé¢æ³¨å†Œè¿‡ï¼Œç›®å‰çœ‹è¿˜è¡Œï¼ï¼

### git push è€æ˜¯æ¨ä¸ä¸Šå»ï¼Œåˆ‡æ¢è¿œç¨‹åœ°å€

- ä½¿ç”¨å‘½ä»¤ï¼Œå…ˆæŸ¥çœ‹è‡ªå·±çš„ä»£ç æ˜¯å¦å…³è”äº† git.å‘½ä»¤ï¼šgit remote -v
- ç›´æ¥ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€ã€‚ä½¿ç”¨å‘½ä»¤ **git remote set-url origin URL**
- å…ˆåˆ é™¤è¿œç¨‹ä»“åº“åœ°å€ï¼Œç„¶ååœ¨æ·»åŠ 

```bash
git remote rm origin åˆ é™¤ç°æœ‰è¿œç¨‹ä»“åº“
git remote add origin url æ·»åŠ æ–°è¿œç¨‹ä»“åº“
```

## 0331

### tailwindcss ç›¸å…³çŸ¥è¯†è¿›é˜¶ä¸€ç‚¹,base/components/utilities ä¸‰è€…çš„åŒºåˆ«æ˜¯å•¥ï¼Œå¦‚ä½•è¿›è¡Œæœ‰æ•ˆæ‰©å±•

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

### ä»æ—¥å¸¸å¼€å‘ä¸­ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆæ’ä»¶é˜”ä»¥å†™çš„ï¼Œç°åœ¨å®˜æ–¹ç¡®è®¤çš„å‡ ä¸ªæ’ä»¶æœ‰

```js
// tailwind.config.js
module.exports = {
  // ...
  plugins: [
    require("@tailwindcss/typography"),
    require("@tailwindcss/forms"),
    require("@tailwindcss/line-clamp"),
    require("@tailwindcss/aspect-ratio"),
  ],
};
```

- [web_components](https://www.ruanyifeng.com/blog/2019/08/web_components.html)
- [svelte + vite å¼€å‘ Web Components](https://mp.weixin.qq.com/s/2pgpYmNNFVE17kh7qYkPtg)

- [degit](https://www.npmjs.com/package/degit)

```bash
degit user/repo

# these commands are equivalent
degit github:user/repo
degit git@github.com:user/repo
degit https://github.com/user/repo
// å®æˆ˜
npx degit niaogege/vitepress-wmh/packages/template my-test
```

degit ä¼šå¯¹ git ä»“åº“è¿›è¡Œå¤åˆ¶ã€‚å½“ä½ è¿è¡Œ degit something-user/some-repo æ—¶ï¼Œå®ƒä¼šåœ¨ https://github.com/some-user/some-repo ä¸Šæ‰¾åˆ°æœ€æ–°çš„æäº¤ï¼Œå¹¶ä¸‹è½½ç›¸å…³çš„ tar æ–‡ä»¶åˆ°ï½/.degit/some-user/some-repo/commithash.tar.gzã€‚(è¿™æ¯”ä½¿ç”¨ git clone è¦å¿«å¾—å¤šï¼Œå› ä¸ºä½ ä¸ä¼šä¸‹è½½æ•´ä¸ª git å†å²è®°å½•ï¼‰
