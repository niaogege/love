<!DOCTYPE html>
<html lang="en">
  <head>
    <title>hash</title>
    <style>
      #route-view {
        width: 100%;
        height: 300px;
        background-color: red;
      }
    </style>
  </head>
  <body>
    <div>
      <ul>
        <li><a href="#/page1">page1</a></li>
        <li><a href="#/page2">page2</a></li>
      </ul>
      <!--渲染对应组件的地方-->
      <div id="route-view"></div>
    </div>
  </body>

  <script>
    const ele = document.getElementById("route-view")
    ele.addEventListener("click", function (e) {
      test()
    })
    function test() {
      // WARNING: For POST requests, body is set to null by browsers.
      var data = JSON.stringify({
        model: "gpt-3.5-turbo",
        messages: [
          {
            role: "user",
            content: "Hello!",
          },
        ],
      })

      var xhr = new XMLHttpRequest()
      xhr.withCredentials = true

      xhr.addEventListener("readystatechange", function () {
        if (this.readyState === 4) {
          console.log(this.responseText)
        }
      })

      xhr.open("POST", "https://api.302.ai/v1/chat/completions")
      xhr.setRequestHeader("Accept", "application/json")
      xhr.setRequestHeader("Authorization", "Bearer ")
      xhr.setRequestHeader("User-Agent", "Apifox/1.0.0 (https://apifox.com)")
      xhr.setRequestHeader("Content-Type", "application/json")

      xhr.send(data)
    }
  </script>
</html>
